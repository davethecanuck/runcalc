(this.webpackJsonpruncalc=this.webpackJsonpruncalc||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(13),r=n.n(i),c=n(10),s=n(75),o=n(166),l=n(167),u=n(5),d=n(162),j=n(163),b=n(164),h=n(165),m=n(136),O=n(102),p=n(78),f=n(141),g=n(139),v=n(3),x=Object(m.a)((function(e){return{root:{minWidth:0,margin:e.spacing(.5)},secondary:{backgroundColor:e.palette.secondary.light,"& .MuiButton-label":{color:e.palette.secondary.main}},primary:{backgroundColor:e.palette.primary.light,"& .MuiButton-label":{color:e.palette.primary.main}}}}));var y=function(e){var t=e.color,n=e.children,a=e.onClick,i=x();return Object(v.jsx)(g.a,{onClick:a,className:"".concat(i.root," ").concat(i[t]),children:n})},S=Object(m.a)((function(e){return{root:{"& .MuiPaper-root":{backgroundColor:"#fdfdff"}},pageHeader:{padding:e.spacing(0),display:"flex",marginBottom:e.spacing(0),alignItems:"center"},pageTitle:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),"& .MuiTypography-subtitle2":{opacity:.6}}}}));function C(e){var t=S(),n=e.title,a=e.icon;return Object(v.jsx)("div",{className:t.root,children:Object(v.jsx)(O.a,{elevation:1,square:!0,children:Object(v.jsxs)("div",{className:t.pageHeader,children:[Object(v.jsx)(y,{children:Object(v.jsx)(f.a,{color:"secondary"})}),Object(v.jsx)("div",{className:t.pageTitle,children:Object(v.jsx)(p.a,{variant:"h6",component:"div",children:n})}),a]})})})}function P(e){var t=e.pages,n=e.currentPage,a=null,i=null;return t.forEach((function(e){e.title===n&&(a=e.page,i=Object(v.jsx)(C,{title:e.longTitle,icon:e.icon}))})),Object(v.jsxs)("div",{children:[i,a]})}var k=Object(m.a)((function(e){return{pageContent:{margin:e.spacing(1),marginBottom:e.spacing(16),padding:e.spacing(1)},fabButton:{left:"auto",right:e.spacing(1),position:"fixed",bottom:e.spacing(9),top:"auto"}}})),T=n(142),M=n(143),N=n(144),B=n(103),I=Object(m.a)((function(e){return{root:{backgroundColor:"#fff",justifyContent:"space-evenly",alignItems:"center",top:"auto",bottom:0},iconButtonLabel:{display:"flex",flexDirection:"column",fontSize:"medium"}}})),H=function(e){var t=I(e),n=e.pages,a=e.setCurrentPage;return Object(v.jsx)(T.a,{position:"fixed",className:t.root,children:Object(v.jsx)(M.a,{children:Object(v.jsx)(N.a,{container:!0,alignItems:"center",children:n.map((function(e){return Object(v.jsx)(N.a,{item:!0,children:Object(v.jsxs)(B.a,{classes:{label:t.iconButtonLabel},onClick:function(){a(e.title)},children:[e.icon,Object(v.jsxs)("label",{children:[" ",e.title," "]})]})})}))})})})};var E=function(e){var t=k();return Object(v.jsx)("div",{children:Object(v.jsx)(O.a,{className:t.pageContent,children:Object(v.jsx)("div",{children:" TBD User Profile Content "})})})},R=n(158),w=n(156),A=n(157),D=n(160),F=n(159),z=n(161),J=n(174),V=n(152),W=n(153),L=n(15),G=n(2),U=n(176);var $=n(147),q=n(148),Z=n(178),K=n(151),Q=n(171);var X=n(168),Y=n(179),_=n(150);var ee=function(e){var t=e.name,n=e.label,a=e.value,i=e.error,r=void 0===i?null:i,c=e.onChange,s=e.options;return Object(v.jsxs)($.a,Object(L.a)(Object(L.a)({variant:"outlined"},r&&{error:!0}),{},{children:[Object(v.jsxs)(q.a,{children:[" ",n," "]}),Object(v.jsxs)(X.a,{label:n,name:t,value:a,onChange:c,children:[Object(v.jsx)(Y.a,{value:"",children:" None "}),s.map((function(e){return Object(v.jsx)(Y.a,{value:e.id,children:e.title},e.id)}))]}),r&&Object(v.jsxs)(_.a,{children:[" ",r," "]})]}))},te=n(172);var ne=function(e){var t=e.name,n=e.label,a=e.value,i=e.onChange;return Object(v.jsx)($.a,{children:Object(v.jsx)(K.a,{label:n,control:Object(v.jsx)(te.a,{name:t,checked:a,onChange:function(e){return i(function(e,t){return{target:{name:e,value:t}}}(t,e.target.checked))},color:"primary"})})})},ae=Object(m.a)((function(e){return{root:{margin:e.spacing(.5)},label:{textTransform:"none"}}}));var ie={Input:function(e){var t=e.name,n=e.label,a=e.value,i=e.error,r=void 0===i?null:i,c=e.onChange,s=Object(G.a)(e,["name","label","value","error","onChange"]);return Object(v.jsx)(U.a,Object(L.a)(Object(L.a)({variant:"outlined",name:t,label:n,value:a,onChange:c},s),r&&{error:!0,helperText:r}))},RadioGroup:function(e){var t=e.name,n=e.label,a=e.value,i=e.onChange,r=e.items;return Object(v.jsxs)($.a,{children:[Object(v.jsxs)(q.a,{children:[" ",n," "]}),Object(v.jsx)(Z.a,{row:!0,name:t,value:a,onChange:i,children:r.map((function(e){return Object(v.jsx)(K.a,{label:e.title,value:e.id,control:Object(v.jsx)(Q.a,{})},e.id)}))})]})},Select:ee,Checkbox:ne,Button:function(e){var t=e.text,n=e.size,a=e.color,i=e.variant,r=e.onClick,c=Object(G.a)(e,["text","size","color","variant","onClick"]),s=ae();return Object(v.jsx)(g.a,Object(L.a)(Object(L.a)({variant:i||"contained",size:n||"large",color:a||"primary",onClick:r},c),{},{classes:{root:s.root,label:s.label},children:t}))},ActionButton:y},re=n(58),ce=n.n(re),se=Object(m.a)((function(e){return{dialogWrapper:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{paddingRight:0}}}));var oe=function(e){var t=e.title,n=e.children,a=e.openPopup,i=e.setOpenPopup,r=se();return Object(v.jsxs)(J.a,{open:a,maxWidth:"md",classes:{paper:r.dialogWrapper},children:[Object(v.jsx)(V.a,{className:r.dialogTitle,children:Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)(p.a,{variant:"h6",component:"div",style:{flexGrow:1},children:t}),Object(v.jsx)(ie.ActionButton,{color:"secondary",onClick:function(){return i(!1)},children:Object(v.jsx)(ce.a,{})})]})}),Object(v.jsx)(W.a,{dividers:!0,children:n})]})},le=n(175),ue=n(169),de=Object(m.a)((function(e){return{root:{top:e.spacing(9)}}}));var je=function(e){var t=e.notify,n=e.setNotify,a=de();return Object(v.jsx)(le.a,{className:a.root,open:t.isOpen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:function(e,a){"clickaway"!==a&&n(Object(L.a)(Object(L.a)({},t),{},{isOpen:!1}))},children:Object(v.jsx)(ue.a,{severity:t.type,children:t.message})})},be=n(11);var he=Object(m.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}}}}));function me(e){var t=he(),n=e.children,a=Object(G.a)(e,["children"]);return Object(v.jsx)("form",Object(L.a)(Object(L.a)({className:t.root,autoComplete:"off"},a),{},{children:n}))}var Oe=[{name:"800m",distance:800},{name:"1km",distance:1e3},{name:"1500m",distance:1500},{name:"1600m",distance:1600},{name:"1 mile",distance:1609},{name:"3000m",distance:3e3},{name:"2 mile",distance:3219},{name:"5km",distance:5e3},{name:"8km",distance:8e3},{name:"5 mile",distance:8047},{name:"10km",distance:1e4},{name:"15km",distance:15e3},{name:"20km",distance:2e4},{name:"13.1 mile",distance:21097},{name:"26.2 mile",distance:42195},{name:"50km",distance:5e4}],pe=Oe.map((function(e){return{title:e.name,id:e.distance}})),fe=Oe.reduce((function(e,t){return e[t.distance]=t.name,e}),{});Oe.reduce((function(e,t){return e[t.name]=t.distance,e}),{});var ge=n(54),ve=n(30),xe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(ge.a)(this,e),Object.assign(this,t),this.recalcFields()}return Object(ve.a)(e,[{key:"recalcFields",value:function(){if(null!=this.distance&&(this.distanceName=(t=this.distance,fe[t]),null==this.timeParts&&(this.timeParts=this.getTimeParts()),null!=this.timeParts)){for(;this.timeParts.length<3;)this.timeParts.unshift(0);if(null!=this.distance&&0===this.timeParts[0]){var e=this.getTime();this.distance/e>15&&(this.timeParts[0]=this.timeParts[1],this.timeParts[1]=this.timeParts[2],this.timeParts[2]=0)}this.time=this.getTime(),this.hhmmss=this.getHHMMSS()}var t}},{key:"getTime",value:function(){return null!=this.timeParts?3600*this.timeParts[0]+60*this.timeParts[1]+this.timeParts[2]:null!=this.time?this.time:null}},{key:"getTimeParts",value:function(){return null!=this.timeParts?this.timeParts:null!=this.time?[Math.floor(this.time/3600),Math.floor(this.time%3600/60),Math.floor(this.time%60)]:null}},{key:"getHHMMSS",value:function(){return this.toHHMMSS(this.getTime())}},{key:"getPaceString",value:function(){if(this.distance&&this.time)return this.toHHMMSS(1609*this.time/this.distance)}},{key:"toHHMMSS",value:function(e){var t="";if(e){var n=Math.floor(e/3600),a=Math.floor((e-3600*n)/60),i=Math.floor(e-3600*n-60*a);t=n.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")}return t}},{key:"predictTime",value:function(e){var t=Math.pow(1.05,Math.log2(e/this.distance)),n=this.time*(e/this.distance)*t,a=e/this.distance;return a>1&&(a=1/a),[n,a]}}]),e}(),ye={id:{pattern:RegExp(/(.*)/),help:"",initVal:0},distance:{pattern:RegExp(/^\s*(\d+)\s*$/),help:"Select a distance",initVal:""},hhmmss:{pattern:RegExp(/^\s*(\d+):?([0-5]\d{1}?)(:([0-5]\d{1}))?\s*$/),help:"hh:mm:ss or hh:mm or mm:ss",initVal:""}},Se={};Object.keys(ye).forEach((function(e){Se[e]=ye[e].initVal}));var Ce=function(e){var t=e.addOrEdit,n=e.recordForEdit,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=Object(L.a)({},l);return Object.keys(e).forEach((function(n){var a=ye[n];a&&(t[n]=a.pattern.test(e[n])?"":a.help)})),u(Object(L.a)({},t)),e===s&&Object.values(t).every((function(e){return""===e}))},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=Object(a.useState)(e),r=Object(c.a)(i,2),s=r[0],o=r[1],l=Object(a.useState)({}),u=Object(c.a)(l,2),d=u[0],j=u[1],b=function(e){var a=e.target,i=a.name,r=a.value;o(Object(L.a)(Object(L.a)({},s),{},Object(be.a)({},i,r))),t&&n(Object(be.a)({},i,r))},h=function(){o(e),j({})};return{values:s,setValues:o,errors:d,setErrors:j,handleInputChange:b,resetForm:h}}(Se,!0,i),s=r.values,o=r.setValues,l=r.errors,u=r.setErrors,d=r.handleInputChange,j=r.resetForm;return Object(a.useEffect)((function(){null!=n&&o(Object(L.a)({},n))}),[n]),Object(v.jsx)(me,{onSubmit:function(e){if(e.preventDefault(),i()){var n=function(){var e=ye.hhmmss.pattern.exec(s.hhmmss),t=[];return t.push(parseInt(e[1])),t.push(parseInt(e[2])),null!=e[4]&&t.push(parseInt(e[4])),new xe({id:s.id,distance:parseInt(s.distance),timeParts:t})}();t(n,j)}},children:Object(v.jsx)(N.a,{container:!0,children:Object(v.jsxs)(N.a,{item:!0,xs:12,children:[Object(v.jsx)(ie.Select,{label:"Distance",name:"distance",value:s.distance,onChange:d,options:pe,error:l.distance}),Object(v.jsx)(ie.Input,{label:"Finish Time",name:"hhmmss",onChange:d,value:s.hhmmss,error:l.hhmmss}),Object(v.jsxs)("div",{children:[Object(v.jsx)(ie.Button,{text:"Save",type:"submit"}),Object(v.jsx)(ie.Button,{text:"Reset",color:"default",onClick:j})]})]})})})},Pe=n(154),ke=n(155),Te=n(180),Me=n(173),Ne=Object(m.a)((function(e){return{table:{marginTop:e.spacing(1),"& thead th":{fontWeight:"600",color:e.palette.primary.main,backgroundColor:e.palette.primary.light},"& tbody td":{fontWeight:"400"},"& tbody tr:hover":{backgroundColor:"#fffbf2",cursor:"pointer"}}}}));var Be=function(e,t,n){var i=Ne(),r=[5,10,25],s=Object(a.useState)(0),o=Object(c.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(r[l]),j=Object(c.a)(d,2),b=j[0],h=j[1],m=Object(a.useState)(),O=Object(c.a)(m,2),p=O[0],f=O[1],g=Object(a.useState)(),x=Object(c.a)(g,2),y=x[0],S=x[1],C=function(e,t){u(t)},P=function(e){h(parseInt(e.target.value,10)),u(0)};function k(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}return{TblHead:function(e){return Object(v.jsx)(ke.a,{children:Object(v.jsx)(w.a,{children:t.map((function(e){return Object(v.jsx)(A.a,{sortDirection:e.id===y&&p,children:e.disableSort?e.label:Object(v.jsx)(Te.a,{active:e.id===y,direction:e.id===y?p:"asc",onClick:function(){var t;t=e.id,f(y===t&&"asc"===p?"desc":"asc"),S(t)},children:e.label})},e.id)}))})})},TblContainer:function(e){return Object(v.jsx)(Pe.a,{className:i.table,children:e.children})},TblPagination:function(){return Object(v.jsx)(Me.a,{component:"div",page:l,rowsPerPageOptions:r,rowsPerPage:b,count:e.length,onChangePage:C,onChangeRowsPerPage:P})},recordsAfterPagingAndSorting:function(){return function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(n.fn(e),function(e,t){return"desc"===e?function(e,n){return k(e,n,t)}:function(e,n){return-k(e,n,t)}}(p,y)).slice(l*b,(l+1)*b)}}},Ie="pastRaces",He="id";function Ee(){var e=localStorage.getItem(Ie);null!=e&&0!==e.length||(e=JSON.stringify([]),localStorage.setItem(Ie,e));var t=JSON.parse(e),n=[];return t.forEach((function(e){n.push(new xe(e))})),n}function Re(e){var t=Ee();e[He]=Date.now(),t.push(e),localStorage.setItem(Ie,JSON.stringify(t))}var we=function(e,t){return Object(v.jsxs)(D.a,{variant:"extended","aria-label":"Add Race",color:"secondary",className:e.fabButton,onClick:function(){t(!0)},children:[Object(v.jsx)(z.a,{}),"Add Race"]})},Ae=function(e){var t=k(),n=Object(a.useState)(Ee()),i=Object(c.a)(n,2),r=i[0],s=i[1],o=Object(a.useState)(null),l=Object(c.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)({fn:function(e){return e}}),b=Object(c.a)(j,2),h=b[0],m=(b[1],Object(a.useState)({isOpen:!1,message:"",type:""})),p=Object(c.a)(m,2),f=p[0],g=p[1],x=Object(a.useState)(0===r.length),y=Object(c.a)(x,2),S=y[0],C=y[1],P=Be(r,[{id:"distance",label:"Distance",disableSort:!0},{id:"time",label:"Time",disableSort:!0},{disableSort:!0}],h),T=P.TblContainer,M=P.TblHead,N=(P.TblPagination,P.recordsAfterPagingAndSorting,function(e){!function(e){var t=Ee();t=t.filter((function(t){return t.id!==e})),localStorage.setItem(Ie,JSON.stringify(t))}(e),s(Ee()),g({isOpen:!0,type:"error",message:"Deleted Race!"})});return Object(v.jsxs)("div",{children:[we(t,C),Object(v.jsx)(O.a,{className:t.pageContent,children:Object(v.jsxs)(T,{children:[Object(v.jsx)(M,{}),Object(v.jsx)(R.a,{children:r.map((function(e){return Object(v.jsxs)(w.a,{children:[Object(v.jsxs)(A.a,{children:[" ",e.distanceName," "]}),Object(v.jsxs)(A.a,{children:[" ",e.hhmmss," "]}),Object(v.jsxs)(A.a,{children:[Object(v.jsx)(ie.ActionButton,{color:"primary",fontSize:"small",onClick:function(){!function(e){d(e),C(!0)}(e)},children:Object(v.jsx)(F.a,{})}),Object(v.jsx)(ie.ActionButton,{color:"secondary",fontSize:"small",onClick:function(){N(e.id)},children:Object(v.jsx)(ce.a,{})})]})]},e.id)}))})]})}),Object(v.jsx)(oe,{title:"Past Race",openPopup:S,setOpenPopup:C,children:Object(v.jsx)(Ce,{addOrEdit:function(e,t){null==e.id||0===e.id?Re(e):function(e){var t=Ee(),n=t.findIndex((function(t){return t.id===e.id}));t[n]=Object(L.a)({},e),localStorage.setItem(Ie,JSON.stringify(t))}(e),d(null),t(),C(!1),s(Ee()),g({isOpen:!0,type:"success",message:"Saved Successfully!"})},recordForEdit:u})}),Object(v.jsx)(je,{notify:f,setNotify:g})]})};function De(){var e=[];return Oe.forEach((function(t){var n=0,a=0;if(Ee().forEach((function(e){var i=e.predictTime(t.distance),r=Object(c.a)(i,2),s=r[0],o=r[1];n+=s*o,a+=o})),a>0){var i=new xe({time:n/a,distance:t.distance});e.push(i)}})),e}var Fe=function(e){var t=k(),n=Object(a.useState)({fn:function(e){return e}}),i=Object(c.a)(n,2),r=i[0],s=(i[1],Object(a.useState)(De())),o=Object(c.a)(s,2),l=o[0],u=(o[1],Be(l,[{id:"distance",label:"Distance",disableSort:!0},{id:"time",label:"Time",disableSort:!0},{id:"pace",label:"Pace",disableSort:!0}],r)),d=u.TblContainer,j=u.TblHead;return u.TblPagination,u.recordsAfterPagingAndSorting,Object(v.jsx)("div",{children:Object(v.jsx)(O.a,{className:t.pageContent,children:Object(v.jsxs)(d,{children:[Object(v.jsx)(j,{}),Object(v.jsx)(R.a,{children:l.map((function(e){return Object(v.jsxs)(w.a,{children:[Object(v.jsxs)(A.a,{children:[" ",e.distanceName," "]}),Object(v.jsxs)(A.a,{children:[" ",e.hhmmss," "]}),Object(v.jsxs)(A.a,{children:[" ",e.getPaceString()," "]})]},e.id)}))})]})})})};var ze=function(e){var t=k();return Object(v.jsx)("div",{children:Object(v.jsx)(O.a,{className:t.pageContent,children:Object(v.jsx)("div",{children:" TBD Charts Content "})})})},Je=Object(s.a)({palette:{primary:{main:"#333996",light:"#3c44b126"},secondary:{main:"#f83245",light:"#f8324526"},background:{default:"#f4f5fd"}},shape:{borderRadius:"4px"},overrides:{MuiAppBar:{root:{transform:"translateZ(0)"}}},props:{MuiIconButton:{disableRipple:!1}}}),Ve=[{title:"Profile",longTitle:"User Profile",page:Object(v.jsx)(E,{}),icon:Object(v.jsx)(d.a,{color:"primary"})},{title:"History",longTitle:"Race History",page:Object(v.jsx)(Ae,{}),icon:Object(v.jsx)(j.a,{color:"primary"})},{title:"Predict",longTitle:"Race Predictions",page:Object(v.jsx)(Fe,{}),icon:Object(v.jsx)(b.a,{color:"primary"})},{title:"Charts",longTitle:"Charts",page:Object(v.jsx)(ze,{}),icon:Object(v.jsx)(h.a,{color:"primary"})}],We=Object(u.a)({appMain:{paddingLeft:"0px",width:"100%"}})((function(e){var t=e.classes,n=Object(a.useState)("History"),i=Object(c.a)(n,2),r=i[0],s=i[1];return Object(v.jsxs)(o.a,{theme:Je,children:[Object(v.jsxs)("div",{className:t.appMain,children:[Object(v.jsx)(P,{pages:Ve,currentPage:r}),Object(v.jsx)(H,{pages:Ve,setCurrentPage:s})]}),Object(v.jsx)(l.a,{})]})}));r.a.render(Object(v.jsx)(We,{}),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.46a90c37.chunk.js.map