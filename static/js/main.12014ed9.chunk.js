(this.webpackJsonpruncalc=this.webpackJsonpruncalc||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(13),r=n.n(i),c=n(10),s=n(75),o=n(165),l=n(166),u=n(5),d=n(161),j=n(162),b=n(163),h=n(164),m=n(136),p=n(102),f=n(78),O=n(139),g=n(3),v=Object(m.a)((function(e){return{root:{minWidth:0,margin:e.spacing(.5)},secondary:{backgroundColor:e.palette.secondary.light,"& .MuiButton-label":{color:e.palette.secondary.main}},primary:{backgroundColor:e.palette.primary.light,"& .MuiButton-label":{color:e.palette.primary.main}}}}));var x=function(e){var t=e.color,n=e.children,a=e.onClick,i=v();return Object(g.jsx)(O.a,{onClick:a,className:"".concat(i.root," ").concat(i[t]),children:n})},S=Object(m.a)((function(e){return{root:{"& .MuiPaper-root":{backgroundColor:"#fdfdff"}},pageHeader:{padding:e.spacing(0),display:"flex",marginBottom:e.spacing(0),justifyContent:"center",alignItems:"center"},pageTitle:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1),"& .MuiTypography-subtitle2":{opacity:.6}}}}));function y(e){var t=S(),n=e.title,a=e.icon;return Object(g.jsx)("div",{className:t.root,children:Object(g.jsx)(p.a,{elevation:1,square:!0,children:Object(g.jsxs)("div",{className:t.pageHeader,children:[a,Object(g.jsx)("div",{className:t.pageTitle,children:Object(g.jsx)(f.a,{variant:"h6",component:"div",children:n})})]})})})}function C(e){var t=e.pages,n=e.currentPage,a=null,i=null;return t.forEach((function(e){e.title===n&&(a=e.page,i=Object(g.jsx)(y,{title:e.longTitle,icon:e.icon}))})),Object(g.jsxs)("div",{children:[i,a]})}var P=Object(m.a)((function(e){return{pageContent:{margin:e.spacing(1),marginBottom:e.spacing(16),padding:e.spacing(1)},fabButton:{left:"auto",right:e.spacing(1),position:"fixed",bottom:e.spacing(9),top:"auto"}}})),k=n(141),T=n(142),M=n(143),N=n(103),I=Object(m.a)((function(e){return{root:{backgroundColor:"#fff",justifyContent:"space-evenly",alignItems:"center",top:"auto",bottom:0},iconButtonLabel:{display:"flex",flexDirection:"column",fontSize:"medium"}}})),B=function(e){var t=I(e),n=e.pages,a=e.setCurrentPage;return Object(g.jsx)(k.a,{position:"fixed",className:t.root,children:Object(g.jsx)(T.a,{children:Object(g.jsx)(M.a,{container:!0,alignItems:"center",children:n.map((function(e){return Object(g.jsx)(M.a,{item:!0,children:Object(g.jsxs)(N.a,{classes:{label:t.iconButtonLabel},onClick:function(){a(e.title)},children:[e.icon,Object(g.jsxs)("label",{children:[" ",e.title," "]})]})})}))})})})};var H=function(e){var t=P();return Object(g.jsx)("div",{children:Object(g.jsx)(p.a,{className:t.pageContent,children:Object(g.jsx)("div",{children:" TBD User Profile Content "})})})},R=n(157),E=n(155),w=n(156),A=n(159),D=n(158),F=n(160),z=n(173),J=n(151),V=n(152),W=n(15),L=n(2),$=n(175);var G=n(146),U=n(147),q=n(177),Z=n(150),K=n(170);var Q=n(167),X=n(178),Y=n(149);var _=function(e){var t=e.name,n=e.label,a=e.value,i=e.error,r=void 0===i?null:i,c=e.onChange,s=e.options;return Object(g.jsxs)(G.a,Object(W.a)(Object(W.a)({variant:"outlined"},r&&{error:!0}),{},{children:[Object(g.jsxs)(U.a,{children:[" ",n," "]}),Object(g.jsxs)(Q.a,{label:n,name:t,value:a,onChange:c,children:[Object(g.jsx)(X.a,{value:"",children:" None "}),s.map((function(e){return Object(g.jsx)(X.a,{value:e.id,children:e.title},e.id)}))]}),r&&Object(g.jsxs)(Y.a,{children:[" ",r," "]})]}))},ee=n(171);var te=function(e){var t=e.name,n=e.label,a=e.value,i=e.onChange;return Object(g.jsx)(G.a,{children:Object(g.jsx)(Z.a,{label:n,control:Object(g.jsx)(ee.a,{name:t,checked:a,onChange:function(e){return i(function(e,t){return{target:{name:e,value:t}}}(t,e.target.checked))},color:"primary"})})})},ne=Object(m.a)((function(e){return{root:{margin:e.spacing(.5)},label:{textTransform:"none"}}}));var ae={Input:function(e){var t=e.name,n=e.label,a=e.value,i=e.error,r=void 0===i?null:i,c=e.onChange,s=Object(L.a)(e,["name","label","value","error","onChange"]);return Object(g.jsx)($.a,Object(W.a)(Object(W.a)({variant:"outlined",name:t,label:n,value:a,onChange:c},s),r&&{error:!0,helperText:r}))},RadioGroup:function(e){var t=e.name,n=e.label,a=e.value,i=e.onChange,r=e.items;return Object(g.jsxs)(G.a,{children:[Object(g.jsxs)(U.a,{children:[" ",n," "]}),Object(g.jsx)(q.a,{row:!0,name:t,value:a,onChange:i,children:r.map((function(e){return Object(g.jsx)(Z.a,{label:e.title,value:e.id,control:Object(g.jsx)(K.a,{})},e.id)}))})]})},Select:_,Checkbox:te,Button:function(e){var t=e.text,n=e.size,a=e.color,i=e.variant,r=e.onClick,c=Object(L.a)(e,["text","size","color","variant","onClick"]),s=ne();return Object(g.jsx)(O.a,Object(W.a)(Object(W.a)({variant:i||"contained",size:n||"large",color:a||"primary",onClick:r},c),{},{classes:{root:s.root,label:s.label},children:t}))},ActionButton:x},ie=n(58),re=n.n(ie),ce=Object(m.a)((function(e){return{dialogWrapper:{padding:e.spacing(2),position:"absolute",top:e.spacing(5)},dialogTitle:{paddingRight:0}}}));var se=function(e){var t=e.title,n=e.children,a=e.openPopup,i=e.setOpenPopup,r=ce();return Object(g.jsxs)(z.a,{open:a,maxWidth:"md",classes:{paper:r.dialogWrapper},children:[Object(g.jsx)(J.a,{className:r.dialogTitle,children:Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)(f.a,{variant:"h6",component:"div",style:{flexGrow:1},children:t}),Object(g.jsx)(ae.ActionButton,{color:"secondary",onClick:function(){return i(!1)},children:Object(g.jsx)(re.a,{})})]})}),Object(g.jsx)(V.a,{dividers:!0,children:n})]})},oe=n(174),le=n(168),ue=Object(m.a)((function(e){return{root:{top:e.spacing(9)}}}));var de=function(e){var t=e.notify,n=e.setNotify,a=ue();return Object(g.jsx)(oe.a,{className:a.root,open:t.isOpen,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:function(e,a){"clickaway"!==a&&n(Object(W.a)(Object(W.a)({},t),{},{isOpen:!1}))},children:Object(g.jsx)(le.a,{severity:t.type,children:t.message})})},je=n(11);var be=Object(m.a)((function(e){return{root:{"& .MuiFormControl-root":{width:"80%",margin:e.spacing(1)}}}}));function he(e){var t=be(),n=e.children,a=Object(L.a)(e,["children"]);return Object(g.jsx)("form",Object(W.a)(Object(W.a)({className:t.root,autoComplete:"off"},a),{},{children:n}))}var me=[{name:"800m",distance:800},{name:"1km",distance:1e3},{name:"1500m",distance:1500},{name:"1600m",distance:1600},{name:"1 mile",distance:1609},{name:"3000m",distance:3e3},{name:"2 mile",distance:3219},{name:"5km",distance:5e3},{name:"8km",distance:8e3},{name:"5 mile",distance:8047},{name:"10km",distance:1e4},{name:"15km",distance:15e3},{name:"20km",distance:2e4},{name:"13.1 mile",distance:21097},{name:"26.2 mile",distance:42195},{name:"50km",distance:5e4}],pe=me.map((function(e){return{title:e.name,id:e.distance}})),fe=me.reduce((function(e,t){return e[t.distance]=t.name,e}),{});me.reduce((function(e,t){return e[t.name]=t.distance,e}),{});var Oe=n(54),ge=n(30),ve=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Oe.a)(this,e),Object.assign(this,t),this.recalcFields()}return Object(ge.a)(e,[{key:"recalcFields",value:function(){if(this.altitude|=0,null!=this.distance&&(this.distanceName=(t=this.distance,fe[t]),null==this.timeParts&&(this.timeParts=this.getTimeParts()),null!=this.timeParts)){for(;this.timeParts.length<3;)this.timeParts.unshift(0);if(null!=this.distance&&0===this.timeParts[0]){var e=this.getTime();this.distance/e>15&&(this.timeParts[0]=this.timeParts[1],this.timeParts[1]=this.timeParts[2],this.timeParts[2]=0)}this.time=this.getTime(),this.hhmmss=this.getHHMMSS()}var t}},{key:"getTime",value:function(){return null!=this.timeParts?3600*this.timeParts[0]+60*this.timeParts[1]+this.timeParts[2]:null!=this.time?this.time:null}},{key:"getTimeParts",value:function(){return null!=this.timeParts?this.timeParts:null!=this.time?[Math.floor(this.time/3600),Math.floor(this.time%3600/60),Math.floor(this.time%60)]:null}},{key:"getHHMMSS",value:function(){return this.toHHMMSS(this.getTime())}},{key:"getPaceString",value:function(){if(this.distance&&this.time)return this.toMMSS(1609*this.time/this.distance)}},{key:"toHHMMSS",value:function(e){var t="";if(e){var n=Math.floor(e/3600),a=Math.floor((e-3600*n)/60),i=Math.floor(e-3600*n-60*a);t=n.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")+":"+i.toString().padStart(2,"0")}return t}},{key:"toMMSS",value:function(e){var t="";if(e){var n=Math.floor(e/60),a=Math.floor(e-60*n);t=n.toString().padStart(2,"0")+":"+a.toString().padStart(2,"0")}return t}},{key:"bestTime",value:function(e){return.152*e-19.964+9.098e-7*Math.pow(e,2)-9556e-15*Math.pow(e,3)}},{key:"gradeFactor",value:function(){return this.time/this.bestTime(this.distance)}},{key:"predictTime",value:function(e){var t=this.bestTime(e.distance)*this.gradeFactor(),n=e.distance/this.distance;return n>1&&(n=1/n),[t,n]}}]),e}(),xe={id:{pattern:RegExp(/(.*)/),help:"",initVal:0},distance:{pattern:RegExp(/^\s*(\d+)\s*$/),help:"Select a distance",initVal:""},hhmmss:{pattern:RegExp(/^\s*(\d+):?([0-5]\d{1}?)(:([0-5]\d{1}))?\s*$/),help:"hh:mm:ss or hh:mm or mm:ss",initVal:""},altitude:{pattern:RegExp(/\s*(\d+)\s*$/),help:"Race altitude (ft)",initVal:0}},Se={};Object.keys(xe).forEach((function(e){Se[e]=xe[e].initVal}));var ye=function(e){var t=e.addOrEdit,n=e.recordForEdit,i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=Object(W.a)({},l);return Object.keys(e).forEach((function(n){var a=xe[n];a&&(t[n]=a.pattern.test(e[n])?"":a.help)})),u(Object(W.a)({},t)),e===s&&Object.values(t).every((function(e){return""===e}))},r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,i=Object(a.useState)(e),r=Object(c.a)(i,2),s=r[0],o=r[1],l=Object(a.useState)({}),u=Object(c.a)(l,2),d=u[0],j=u[1],b=function(e){var a=e.target,i=a.name,r=a.value;o(Object(W.a)(Object(W.a)({},s),{},Object(je.a)({},i,r))),t&&n(Object(je.a)({},i,r))},h=function(){o(e),j({})};return{values:s,setValues:o,errors:d,setErrors:j,handleInputChange:b,resetForm:h}}(Se,!0,i),s=r.values,o=r.setValues,l=r.errors,u=r.setErrors,d=r.handleInputChange,j=r.resetForm;return Object(a.useEffect)((function(){null!=n&&o(Object(W.a)({},n))}),[n]),Object(g.jsx)(he,{onSubmit:function(e){if(e.preventDefault(),i()){var n=function(){var e=xe.hhmmss.pattern.exec(s.hhmmss),t=[];return t.push(parseInt(e[1])),t.push(parseInt(e[2])),null!=e[4]&&t.push(parseInt(e[4])),new ve({id:s.id,distance:parseInt(s.distance),altitude:parseInt(s.altitude),timeParts:t})}();t(n,j)}},children:Object(g.jsx)(M.a,{container:!0,children:Object(g.jsxs)(M.a,{item:!0,xs:12,children:[Object(g.jsx)(ae.Select,{label:"Distance",name:"distance",value:s.distance,onChange:d,options:pe,error:l.distance}),Object(g.jsx)(ae.Input,{label:"Finish Time",name:"hhmmss",onChange:d,value:s.hhmmss,error:l.hhmmss}),Object(g.jsx)(ae.Input,{label:"Altitude",name:"altitude",onChange:d,value:s.altitude,error:l.altitude}),Object(g.jsxs)("div",{children:[Object(g.jsx)(ae.Button,{text:"Save",type:"submit"}),Object(g.jsx)(ae.Button,{text:"Reset",color:"default",onClick:j})]})]})})})},Ce=n(153),Pe=n(154),ke=n(179),Te=n(172),Me=Object(m.a)((function(e){return{table:{marginTop:e.spacing(1),"& thead th":{fontWeight:"600",color:e.palette.primary.main,backgroundColor:e.palette.primary.light,textAlign:"left"},"& tbody td":{fontWeight:"400",padding:e.spacing(1),textAlign:"left"},"& tbody tr:hover":{backgroundColor:"#fffbf2",cursor:"pointer"}}}}));var Ne=function(e,t,n){var i=Me(),r=[5,10,25],s=Object(a.useState)(0),o=Object(c.a)(s,2),l=o[0],u=o[1],d=Object(a.useState)(r[l]),j=Object(c.a)(d,2),b=j[0],h=j[1],m=Object(a.useState)(),p=Object(c.a)(m,2),f=p[0],O=p[1],v=Object(a.useState)(),x=Object(c.a)(v,2),S=x[0],y=x[1],C=function(e,t){u(t)},P=function(e){h(parseInt(e.target.value,10)),u(0)};function k(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}return{TblHead:function(e){return Object(g.jsx)(Pe.a,{children:Object(g.jsx)(E.a,{children:t.map((function(e){return Object(g.jsx)(w.a,{sortDirection:e.id===S&&f,children:e.disableSort?e.label:Object(g.jsx)(ke.a,{active:e.id===S,direction:e.id===S?f:"asc",onClick:function(){var t;t=e.id,O(S===t&&"asc"===f?"desc":"asc"),y(t)},children:e.label})},e.id)}))})})},TblContainer:function(e){return Object(g.jsx)(Ce.a,{className:i.table,children:e.children})},TblPagination:function(){return Object(g.jsx)(Te.a,{component:"div",page:l,rowsPerPageOptions:r,rowsPerPage:b,count:e.length,onChangePage:C,onChangeRowsPerPage:P})},recordsAfterPagingAndSorting:function(){return function(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}(n.fn(e),function(e,t){return"desc"===e?function(e,n){return k(e,n,t)}:function(e,n){return-k(e,n,t)}}(f,S)).slice(l*b,(l+1)*b)}}},Ie="pastRaces",Be="id";function He(){var e=localStorage.getItem(Ie);null!=e&&0!==e.length||(e=JSON.stringify([]),localStorage.setItem(Ie,e));var t=JSON.parse(e),n=[];return t.forEach((function(e){n.push(new ve(e))})),n}function Re(e){var t=He();e[Be]=Date.now(),t.push(e),localStorage.setItem(Ie,JSON.stringify(t))}var Ee=function(e,t){return Object(g.jsxs)(A.a,{variant:"extended","aria-label":"Add Race",color:"secondary",className:e.fabButton,onClick:function(){t(!0)},children:[Object(g.jsx)(F.a,{}),"Add Race"]})},we=function(e){var t=P(),n=Object(a.useState)(He()),i=Object(c.a)(n,2),r=i[0],s=i[1],o=Object(a.useState)(null),l=Object(c.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)({fn:function(e){return e}}),b=Object(c.a)(j,2),h=b[0],m=(b[1],Object(a.useState)({isOpen:!1,message:"",type:""})),f=Object(c.a)(m,2),O=f[0],v=f[1],x=Object(a.useState)(0===r.length),S=Object(c.a)(x,2),y=S[0],C=S[1],k=Ne(r,[{id:"distance",label:"Distance",disableSort:!0},{id:"time",label:"Time",disableSort:!0},{id:"altitude",label:"Altitude",disableSort:!0},{disableSort:!0}],h),T=k.TblContainer,M=k.TblHead,N=(k.TblPagination,k.recordsAfterPagingAndSorting,function(e){!function(e){var t=He();t=t.filter((function(t){return t.id!==e})),localStorage.setItem(Ie,JSON.stringify(t))}(e),s(He()),v({isOpen:!0,type:"error",message:"Deleted Race!"})});return Object(g.jsxs)("div",{children:[Ee(t,C),Object(g.jsx)(p.a,{className:t.pageContent,children:Object(g.jsxs)(T,{children:[Object(g.jsx)(M,{}),Object(g.jsx)(R.a,{children:r.map((function(e){return Object(g.jsxs)(E.a,{children:[Object(g.jsxs)(w.a,{children:[" ",e.distanceName," "]}),Object(g.jsxs)(w.a,{children:[" ",e.hhmmss," "]}),Object(g.jsxs)(w.a,{children:[" ",e.altitude," "]}),Object(g.jsxs)(w.a,{children:[Object(g.jsx)(ae.ActionButton,{color:"primary",fontSize:"small",onClick:function(){!function(e){d(e),C(!0)}(e)},children:Object(g.jsx)(D.a,{})}),Object(g.jsx)(ae.ActionButton,{color:"secondary",fontSize:"small",onClick:function(){N(e.id)},children:Object(g.jsx)(re.a,{})})]})]},e.id)}))})]})}),Object(g.jsx)(se,{title:"Past Race",openPopup:y,setOpenPopup:C,children:Object(g.jsx)(ye,{addOrEdit:function(e,t){null==e.id||0===e.id?Re(e):function(e){var t=He(),n=t.findIndex((function(t){return t.id===e.id}));t[n]=Object(W.a)({},e),localStorage.setItem(Ie,JSON.stringify(t))}(e),d(null),t(),C(!1),s(He()),v({isOpen:!0,type:"success",message:"Saved Successfully!"})},recordForEdit:u})}),Object(g.jsx)(de,{notify:O,setNotify:v})]})};function Ae(){var e=[];return me.forEach((function(t){var n=0,a=0;if(He().forEach((function(e){var i=e.predictTime(new ve({distance:t.distance})),r=Object(c.a)(i,2),s=r[0],o=r[1];n+=s*o,a+=o})),a>0){var i=new ve({time:n/a,distance:t.distance});e.push(i)}})),e}var De=function(e){var t=P(),n=Object(a.useState)({fn:function(e){return e}}),i=Object(c.a)(n,2),r=i[0],s=(i[1],Object(a.useState)(Ae())),o=Object(c.a)(s,2),l=o[0],u=(o[1],Ne(l,[{id:"distance",label:"Distance",disableSort:!0},{id:"time",label:"Time",disableSort:!0},{id:"pace",label:"Pace",disableSort:!0}],r)),d=u.TblContainer,j=u.TblHead;return u.TblPagination,u.recordsAfterPagingAndSorting,Object(g.jsx)("div",{children:Object(g.jsx)(p.a,{className:t.pageContent,children:Object(g.jsxs)(d,{children:[Object(g.jsx)(j,{}),Object(g.jsx)(R.a,{children:l.map((function(e){return Object(g.jsxs)(E.a,{children:[Object(g.jsxs)(w.a,{children:[" ",e.distanceName," "]}),Object(g.jsxs)(w.a,{children:[" ",e.hhmmss," "]}),Object(g.jsxs)(w.a,{children:[" ",e.getPaceString()," "]})]},e.id)}))})]})})})};var Fe=function(e){var t=P();return Object(g.jsx)("div",{children:Object(g.jsx)(p.a,{className:t.pageContent,children:Object(g.jsx)("div",{children:" TBD Help Content "})})})},ze=Object(s.a)({palette:{primary:{main:"#333996",light:"#3c44b126"},secondary:{main:"#f83245",light:"#f8324526"},background:{default:"#f4f5fd"}},shape:{borderRadius:"4px"},overrides:{MuiAppBar:{root:{transform:"translateZ(0)"}}},props:{MuiIconButton:{disableRipple:!1}}}),Je=[{title:"Profile",longTitle:"User Profile",page:Object(g.jsx)(H,{}),icon:Object(g.jsx)(d.a,{color:"primary"})},{title:"History",longTitle:"Race History",page:Object(g.jsx)(we,{}),icon:Object(g.jsx)(j.a,{color:"primary"})},{title:"Predict",longTitle:"Race Predictions",page:Object(g.jsx)(De,{}),icon:Object(g.jsx)(b.a,{color:"primary"})},{title:"Help",longTitle:"Help",page:Object(g.jsx)(Fe,{}),icon:Object(g.jsx)(h.a,{color:"secondary"})}],Ve=Object(u.a)({appMain:{paddingLeft:"0px",width:"100%"}})((function(e){var t=e.classes,n=Object(a.useState)(Je[1].title),i=Object(c.a)(n,2),r=i[0],s=i[1];return Object(g.jsxs)(o.a,{theme:ze,children:[Object(g.jsxs)("div",{className:t.appMain,children:[Object(g.jsx)(C,{pages:Je,currentPage:r}),Object(g.jsx)(B,{pages:Je,setCurrentPage:s})]}),Object(g.jsx)(l.a,{})]})}));r.a.render(Object(g.jsx)(Ve,{}),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.12014ed9.chunk.js.map